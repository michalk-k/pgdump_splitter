# Motivation
The main reason why this program has been created is to quickly dump databases into files, representing different database objects.

Why not a single file? \
The result has to be versioned (ie in GIT) and then worked on by teams. A single file means merging conflicts. The more files the structure is split into, the fewer merging conflicts. \
Also, working with small files, and comparing their content (ie in GIT) is more comfortable than with a single big one.

# Features
1. May use `pg_dump` directly
2. Alternatively may parse a dump file, generated earlier by pg_dump
3. Dumps each db object to separate file
4. Allows grouping of related objects into a single file (ie table together with its acls, comments, column comments, defaults etc)
5. Files containing functions have filenames shortened to avoid exceeding the maximum file length allowed by the filesystem/os
   
# Usage

`pgdump_splitter -m origin -f dbdump.sql -s /path/to/resulting/structure/`

Creates the result from `dbdump.sql` file generated by pg_dump earlier. Objects are organized into file structures proposed by the `pg_dump`.

`pgdump_splitter -m custom -h 192.168.0.5 p- 5432 -u yourlogin -d database_name -s /path/to/resulting/structure/`

Creates the result from data streamed directly from pg_dump connected to a given database. Files are organized in a way, aggregating related objects into single files (ie objects together with their ACLs).
Password has to be provided in ways accepted by the `pg_dump` (.pgpass, PGPASSWORD env variable etc)
